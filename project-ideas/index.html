<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>What Should You Make?</title>
  </head>
  <body>
    <div id="what-should-you-make">
      <h1>What Should You Make?</h1>
      <button onclick="generateThing();">I don't know, tell me</button>
    </div>
    <div id="you-should-make" style="display: none">
      <h1>You Should Make</h1>
      <p id="phrase"></p>
      <button onclick="generateThing();">What else should I make?</button>
    </div>

    <script type="text/javascript">
      var phrase = document.getElementById('phrase');
      var introSection = document.getElementById('what-should-you-make');
      var thingSection = document.getElementById('you-should-make');

      function randomInt(min, max) {
        if (max == null) {
          max = min;
          min = 0;
        }
        return Math.floor(Math.random() * (max - min) + min);
      }

      function isVowel(character) {
        return /^[aeiou]$/.test(character)
      }

      function capitalize(string) {
        return string[0].toUpperCase() + string.substr(1);
      }

      function randomSet(set, num_values) {
        var available = set.slice();
        var selected = [];

        for (var i = 0; i < num_values; ++i) {
          var index = randomInt(available.length);
          selected.push(available.splice(index, 1)[0]);
        }

        return selected;
      }

      function randomElement(array) {
        return array[randomInt(array.length)];
      }

      function joinWithAnd(array) {
        if (array.length == 0) return '';
        else if (array.length == 1) return array[0];

        return array.slice(0, array.length - 1).join(', ') + ' and ' +
            array[array.length - 1];
      }

      function pickAdjectives(num_adjectives) {
        return randomSet(adjectives, num_adjectives);
      }

      function pickThing() {
        var thing = randomElement(things);
        var num_adjectives = randomInt(1, 4);
        var generated_adjectives = pickAdjectives(num_adjectives);

        var generated_phrase = generated_adjectives.join(', ') + ' ' + thing;

        if (isVowel(generated_phrase[0])) {
          return 'an ' + generated_phrase;
        } else {
          return 'a ' + generated_phrase;
        }
      }

      function pickMaterial() {
        var generated_materials = randomSet(materials, randomInt(1, 3));
        return joinWithAnd(generated_materials);
      }

      function pickInfinitive() {
        return randomElement(infinitives);
      }

      function pickConnective() {
        var keys = Object.keys(connectives);
        var connective_key = randomElement(keys);

        if (connective_key == '') return '';
        var connective_generator = connectives[connective_key];
        return ' ' + connective_key + ' ' + connective_generator(connective_key);
      }

      function generatePhrase() {
        var first_thing = capitalize(pickThing());
        var connective = pickConnective();
        return first_thing + connective + '.';
      }

      function generateThing() {
        var generated_phrase = generatePhrase();

        phrase.innerText = generated_phrase;

        introSection.style.display = 'none';
        thingSection.style.display = 'block';
      }

      var things = [
        "accordion",
        "adult film",
        "air conditioner",
        "airplane",
        "bag pipe",
        "balloon",
        "banjo",
        "barrel of whiskey",
        "basket",
        "basketball hoop",
        "bass",
        "bath tub",
        "Batmobile",
        "bazooka",
        "bed",
        "beer keg",
        "blender",
        "bicycle",
        "bicycle helmet",
        "blanket fort",
        "boat",
        "bong",
        "briefcase",
        "brothel",
        "cake",
        "candle",
        "car",
        "castle",
        "cat tree",
        "casino",
        "cello",
        "coffee mug",
        "coloring book",
        "colosseum",
        "computer",
        "corset",
        "couch",
        "cotton plantation",
        "chair",
        "chariot",
        "children's toy",
        "clarinet",
        "clock",
        "crack pipe",
        "crib",
        "cure for cancer",
        "cutlass",
        "dance",
        "desk",
        "door",
        "dining room table",
        "dress",
        "drum set",
        "fax machine",
        "fire place",
        "fishing pole",
        "flag pole",
        "flower vase",
        "flute",
        "gingerbread house",
        "glockenspiel",
        "goblet",
        "grape vineyard",
        "greeting card",
        "guitar",
        "hairbrush",
        "harmonica",
        "harp",
        "harpoon",
        "home theater",
        "horse stable",
        "hot air balloon",
        "house",
        "house boat",
        "island",
        "jug",
        "jump rope",
        "katana",
        "key ring",
        "keyboard",
        "keytar",
        "kite",
        "knife",
        "lamp",
        "limousine",
        "locket",
        "lunchbox",
        "mailbox",
        "map of Canada",
        "map of the United States",
        "map of Mexico",
        "map of France",
        "map of Japan",
        "map of the middle East",
        "map of South America",
        "map of the universe",
        "mannequin",
        "margherita",
        "marimba",
        "microwave",
        "mobile home",
        "motorcycle",
        "musket",
        "Nazi uniform",
        "Nazi motorcycle",
        "notebook",
        "ocarina",
        "oven",
        "owl sanctuary",
        "pair of boots",
        "pair of boxing gloves",
        "pair of jeans",
        "pair of mittens",
        "pair of scissors",
        "pair of socks",
        "pair of underwear",
        "pencil sharpener",
        "pepper grinder",
        "piano",
        "picture frame",
        "pillowcase",
        "popcorn popper",
        "printer",
        "puppet",
        "quilt",
        "robot",
        "raft",
        "rapier",
        "rifle",
        "saxophone",
        "scarecrow",
        "shelf",
        "skyscraper",
        "slide",
        "soap dispensor",
        "spaceship",
        "speaker system",
        "spear",
        "spoon",
        "snuff film",
        "stove",
        "stripper pole",
        "sweater",
        "Swiss army kife",
        "sword",
        "T shirt",
        "tamborine",
        "teapot",
        "telephone",
        "tent",
        "Terminator",
        "throne",
        "toaster",
        "toilet",
        "toolbox",
        "toothbrush",
        "toothbrush holder",
        "trombone",
        "truck",
        "trumpet",
        "tuba",
        "ukulele",
        "van",
        "vending machine",
        "viola",
        "violin",
        "water gun",
        "water tower",
        "wheel barrow",
        "wolf sanctuary",
        "wood chipper",
        "wristwatch",
        "Youtube video"
      ];

      var adjectives = [
        "aboriginal",
        "acidic",
        "action-packed",
        "adorable",
        "anachronistic",
        "ancient",
        "antique",
        "artisanal",
        "awkward",
        "barren",
        "battery-powered",
        "beautiful",
        "big",
        "biodegradable",
        "bite-sized",
        "bitter",
        "black",
        "blue",
        "bold",
        "bouncy",
        "brown",
        "bumpy",
        "buoyant",
        "cheap",
        "chubby",
        "circular",
        "classic",
        "clean",
        "clear",
        "cloudy",
        "coarse",
        "collapsable",
        "colossal",
        "complicated",
        "conventional",
        "cold",
        "costly",
        "creepy",
        "cum-soaked",
        "curvy",
        "cute",
        "cylindrical",
        "dangerous",
        "damp",
        "dark",
        "dazzling",
        "deadly",
        "deafening",
        "decent",
        "defiant",
        "delicious",
        "delightful",
        "dense",
        "dependable",
        "detailed",
        "dimpled",
        "disfigured",
        "disgusting",
        "dirty",
        "discrespectful",
        "dry",
        "dull",
        "edible",
        "elaborate",
        "elastic",
        "electrically-charged",
        "elliptical",
        "embellished",
        "enchanting",
        "energetic",
        "enormous",
        "euphoric",
        "evil",
        "exotic",
        "expensive",
        "fabulous",
        "fake",
        "fancy",
        "fantastic",
        "fast",
        "fat",
        "fatal",
        "feminine",
        "fermented",
        "filthy",
        "firm",
        "flaky",
        "flamboyant",
        "flowery",
        "fluffy",
        "fragrant",
        "French",
        "frigid",
        "frilly",
        "frozen",
        "frugal",
        "functional",
        "fuzzy",
        "gargantuan",
        "gaseous",
        "giant",
        "gigantic",
        "gilded",
        "glamorous",
        "glittering",
        "gloomy",
        "glossy",
        "gorgeous",
        "grand",
        "gray",
        "greasy",
        "great",
        "green",
        "gross",
        "grotesque",
        "gruesome",
        "Halal",
        "hairy",
        "handmade",
        "handy",
        "hard",
        "harmful",
        "harmless",
        "heavy",
        "helpful",
        "hideous",
        "hollow",
        "horrible",
        "hospitable",
        "hot",
        "huge",
        "humongous",
        "icky",
        "icy",
        "idiotic",
        "illegal",
        "imaginary",
        "immaculate",
        "imperfect",
        "impossible",
        "impractical",
        "impressive",
        "incomparable",
        "incomplete",
        "inconsequential",
        "incredible",
        "inferior",
        "insignificant",
        "irritating",
        "itchy",
        "jagged",
        "Jamaican",
        "Japanese",
        "jazzy",
        "Jewish",
        "jingly",
        "juicy",
        "jumbo",
        "juvnile",
        "kitschy",
        "kinky",
        "kooky",
        "Korean",
        "Kosher",
        "large",
        "lavish",
        "leafy",
        "lemon-scented",
        "light",
        "little",
        "long",
        "lopsided",
        "loose",
        "loud",
        "lovable",
        "lovely",
        "lumpy",
        "luxurious",
        "magenta",
        "magnetic",
        "magnificent",
        "majestic",
        "marvelous",
        "masculine",
        "massive",
        "meaty",
        "medical",
        "mediocre",
        "menacing",
        "messy",
        "metallic",
        "milky",
        "miniature",
        "minty",
        "misty",
        "moist",
        "monstrous",
        "motionless",
        "mountainous",
        "muddy",
        "mushy",
        "musty",
        "mysterious",
        "narrow",
        "nasty",
        "natural",
        "naughty",
        "nautical",
        "new",
        "newfangled",
        "nice",
        "nifty",
        "nightmarish",
        "noisy",
        "nonadsorbent",
        "nonflammable",
        "nontoxic",
        "novel",
        "nutritious",
        "nuturing",
        "nutty",
        "oblong",
        "oily",
        "odd",
        "offbeat",
        "offensive",
        "old",
        "old-fashioned",
        "old-timey",
        "opulent",
        "orange",
        "organic",
        "ornate",
        "ordinary",
        "outlandish",
        "outrageous",
        "outstanding",
        "pale",
        "pastel",
        "perky",
        "pink",
        "pleasing",
        "polished",
        "pointless",
        "powerful",
        "powerless",
        "practical",
        "pretty",
        "pricey",
        "profitable",
        "proper",
        "pungent",
        "puny",
        "purple",
        "putrid",
        "puzzling",
        "questionable",
        "quiet",
        "quirky",
        "racially-insensitive",
        "ragged",
        "raw",
        "realistic",
        "rectangular",
        "red",
        "reflective",
        "regal",
        "regular",
        "reliable",
        "remarkable",
        "remote-controlled",
        "repulsive",
        "revolving",
        "rigid",
        "ringed",
        "robust",
        "rock-hard",
        "rotating",
        "rough",
        "round",
        "royal",
        "rubbery",
        "rum-soaked",
        "rusty",
        "safe",
        "salty",
        "sandy",
        "scaly",
        "scientific",
        "scratchy",
        "scrawny",
        "secret",
        "serpentine",
        "shabby",
        "shady",
        "shallow",
        "sharp",
        "shiny",
        "shocking",
        "shoddy",
        "silky",
        "simple",
        "sinful",
        "skinny",
        "slim",
        "slimy",
        "slippery",
        "small",
        "smooth",
        "sneaky",
        "soft",
        "soggy",
        "solid",
        "spherical",
        "soupy",
        "Spanish",
        "sparkling",
        "spectacular",
        "spicy",
        "spotless",
        "spotted",
        "square",
        "squeaky",
        "squiggly",
        "squishy",
        "stable",
        "stained",
        "starry",
        "sticky",
        "stiff",
        "straight",
        "strange",
        "striking",
        "striped",
        "strong",
        "stunning",
        "stupendous",
        "stupid",
        "sturdy",
        "stylish",
        "suburban",
        "superficial",
        "superior",
        "sweaty",
        "sweet",
        "tall",
        "tattered",
        "terrible",
        "terrific",
        "thick",
        "thin",
        "thorny",
        "tight",
        "tinted",
        "triangular",
        "tricky",
        "twisted",
        "ugly",
        "unbreakable",
        "unbelievable",
        "uncomfortable",
        "uneven",
        "unequaled",
        "unpleasant",
        "unrealistic",
        "unsightly",
        "unwieldy",
        "urban",
        "urine-scented",
        "useful",
        "useless",
        "velvety",
        "vibrant",
        "violet",
        "violent",
        "virtual",
        "vomit-scented",
        "warlike",
        "warped",
        "wasteful",
        "webbed",
        "weird",
        "well-lit",
        "well-choreographed",
        "well-made",
        "wet",
        "whimsical",
        "white",
        "whole",
        "whopping",
        "wide",
        "wiggly",
        "winged",
        "wobbly",
        "worthless",
        "wrathful",
        "xenophobic",
        "XXX-rated",
        "yellow",
        "zany",
        "zesty"
      ];

      // Add "that can <verb>"
      var connectives = {
        "": function() {},
        "made out of": pickMaterial,
        "constructed from": pickMaterial,
        "that is also": pickThing,
        "that is secretly": pickThing,
        "that can be used to": pickInfinitive
      };

      var materials = [
        "aluminum foil",
        "anal beads",
        "anscestral remains",
        "animal furs",
        "asbestos",
        "baking soda",
        "bamboo",
        "birch",
        "blood",
        "bones",
        "brass",
        "brick",
        "bronze",
        "bubble wrap",
        "chalk",
        "candy",
        "cat food",
        "carbon fiber",
        "cardboard",
        "cedar",
        "cherry",
        "clay",
        "cloth",
        "coat hangers",
        "coffee filters",
        "concrete",
        "copper",
        "corn",
        "cotton balls",
        "crayons",
        "denim",
        "duct tape",
        "egg cartons",
        "electricity",
        "felt",
        "feathers",
        "finger nails",
        "fire",
        "fish hooks",
        "glass",
        "glitter",
        "gold",
        "googly eyes",
        "gravel",
        "hickory",
        "ice",
        "iron",
        "leather",
        "lead",
        "mahogany",
        "maple",
        "marble",
        "mason jars",
        "meat",
        "mercury",
        "metal",
        "mud",
        "newspaper",
        "oak",
        "paper",
        "papier mâché",
        "pine",
        "pine cones",
        "pipe cleaner",
        "plastic",
        "plywood",
        "popsickle sticks",
        "porcelain",
        "rebar",
        "rock",
        "rosewood",
        "sand",
        "sequins",
        "silicon",
        "silk",
        "silver",
        "stained bedsheets",
        "steel",
        "sticks",
        "stone",
        "straws",
        "string",
        "styrofoam",
        "sweat",
        "teak",
        "tears",
        "the skulls of fallen enemies",
        "the swords of fallen enemies",
        "tin",
        "tissue paper",
        "toliet paper rolls",
        "toothpicks",
        "used bandages",
        "used syringes",
        "veneer",
        "vinegar",
        "walnut",
        "wood",
        "wooden beads",
        "whale oil",
        "yarn"
      ];

      var infinitives = [
        "acknowledge the Holocaust",
        "alert the government of terrorist threats",
        "bathe dogs",
        "become a better dancer",
        "choke a bitch",
        "collect food stamps",
        "commit arson",
        "commit a felony",
        "commit a misdemeanor",
        "criticize others",
        "crush your enemies",
        "dance",
        "decorate your home",
        "do drugs",
        "drink heavily",
        "enchant your coworkers",
        "focus your energies",
        "follow your dreams",
        "frighten children",
        "groom foxes",
        "help you lose weight",
        "help you gain weight",
        "hunt humans",
        "launder money",
        "perform heart surgery",
        "sell used cars",
        "slickle his peeny",
        "stalk people",
        "start fires",
        "steal",
        "store vintage baseball cards",
        "store crack cocaine",
        "wash clothes",
        "whistle"
      ];
    </script>
  </body>
</html>
